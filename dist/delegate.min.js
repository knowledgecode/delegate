/**
 * @preserve delegate (c) KNOWLEDGECODE | MIT
 */
!function(e){"use strict";var t,n,r=(t=Element.prototype,n=t.matches||t.msMatchesSelector,function(e,t){return n.call(e,t)}),s=function(e,t){this.originalEvent=e,this.bubbles=e.bubbles,this.currentTarget=t};s.prototype.preventDefault=function(){this.originalEvent.preventDefault()},s.prototype.stopPropagation=function(){this.bubbles=!1};var i=[],o=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},a=function(e){return this._baseEventTarget=e,this._eventCache={},this._subscribers={},this};a.prototype.listener=function(e){for(var t,n,i=this._subscribers[e.type]||[],a=e.target;a.parentNode;){if(t=new s(e,a),o(i,function(e,t,n){return function(s){s.selector&&(r(e,s.selector)?s.handler.call(e,t):n[n.length]=s)}}(a,t,n=[])),!n.length||!t.bubbles)return;i=n,a=a.parentNode}a=e.currentTarget,o(i,(function(t){t.selector||t.handler.call(a,new s(e,a))}))},a.prototype.on=function(e,t,n){var r;return"function"==typeof t&&(n=t,t=null),~Object.keys(this._eventCache).indexOf(e)||(r=this.listener.bind(this),this._baseEventTarget.addEventListener(e,r,{capture:!0,passive:!1}),this._eventCache[e]=r),this._subscribers[e]=this._subscribers[e]||[],this._subscribers[e].push({selector:t,handler:n}),this},a.prototype.off=function(e,t,n){var r=[];return"function"==typeof t&&(n=t,t=null),e?t||n?(o(this._subscribers[e],(function(e){e.selector===t&&e.handler===n||(r[r.length]=e)})),r.length?this._subscribers[e]=r:delete this._subscribers[e]):delete this._subscribers[e]:this._subscribers={},this},a.prototype.one=function(e,t,n){var r=this,s=function(i){r.off(e,t||s,s),n.call(this,i)};return"function"==typeof t?(n=t,t=null,this.on(e,s)):this.on(e,t,s)},a.prototype.clear=function(){this.off(),o(Object.keys(this._eventCache),function(e){this._baseEventTarget.removeEventListener(e,this._eventCache[e],!0)}.bind(this)),this._eventCache={};for(var e=0,t=i.length;e<t;e++)if(this._baseEventTarget===i[e].baseEventTarget){i.splice(e,1);break}return this},e.delegate=function(e){if(!e.addEventListener)throw new TypeError(e+" is not an EventTarget");for(var t=0,n=i.length;t<n;t++)if(e===i[t].baseEventTarget)return i[t].object;var r=new a(e);return i.push({baseEventTarget:e,object:r}),r}}(this);